<%- include('layout/header')%>
<header>
    <h1>Contact List</h1>
</header>

<%- include('layout/nav') %>
    <% if (cont.length < 1) { %>
    <p>Contact data is empty</p>
    <% } else {%>
    
    <div class="table-container">
    <table border="1">
        <tr>
            <th>Nama</th>
            <th>Hp</th>
            <th>Aksi</th>
        </tr>
        
    <% cont.forEach((cont, i)=>{ %>
        <tr>
            <td><%= cont.name %></td>
            <td><%= cont.hp %></td>
            <td>
    <form action="/delete-contact" method="post">
        <input type="hidden" name="name" value="<%= cont.name %>">
        <button type="submit" class="delete">Delete</button>
    </form>
        <a href="/updateform/<%=cont.name %>" class="button-link add-contact-button">Update</a>
    
</td>
</tr>
    <% }) }; %>
    <script>
        function navigateToUpdate(formId) {
            const form = document.getElementById(formId);
            form.action = '/update'; // Set action to the update route
            form.submit(); // Submit the form to navigate
        }
    </script>
    </table>
    </div>

    <a href="/addcontact"><button class="add">Tambah kontak</button></a>
    
<%- include('layout/footer') %>
<style>
.table-container {
background-color: #f7f7f7;
border-radius: 10px;
box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
padding: 25px;
margin: 0 auto;
margin-top: 40px;
max-width: 50%;
}

table {
width: 100%;
border-collapse: collapse;
}

td {
padding: 10px;
text-align: left;
border-bottom: 1px solid #ddd;
}

th {
background-color: #e0e0e0;
text-align: center;
padding: 10px;
border-bottom: 1px solid #ddd;
}

tr:hover {
background-color: #f2f2f2;
}
.delete{
background-color: #35424a;
font-size: 13px;
color: #fff;
border: none;
border-radius: 5px;
padding: 10px 20px;
cursor: pointer;
margin: 0 auto;
margin-left: auto;
margin-right: auto;
display: block;
}
.update{
background-color: #35424a;
font-size: 13px;
color: #fff;
border: none;
border-radius: 5px;
padding: 10px 20px;
cursor: pointer;
margin: 0 auto;
margin-left: auto;
margin-right: auto;
display: block;
}
.add{
background-color: #35424a;
font-size: 15px;
color: #fff;
border: none;
border-radius: 5px;
padding: 10px 20px;
cursor: pointer;
margin: 0 auto;
margin-top: 30px;
margin-left: auto;
margin-right: auto;
display: block;
}
.add:hover {
background-color: #333;
}
.delete:hover {
background-color: #333;
}
.update:hover {
background-color: #333;
}
</style>